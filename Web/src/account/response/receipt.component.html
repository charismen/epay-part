<div [@routerTransition]>
  <div class="kt-content kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor" [busyIf]="loading">
      <div>
          <div [class]="containerClass">
              <div class="invoice-subheader" style="    display: flex;
              justify-content: space-between;
              align-items: center;
              align-content: center;">
                  <h3 class="kt-subheader__title kt-font-dark">
                      <span>{{"ReceiptDetail" | localize}}</span>
                  </h3>
                  <div class="button-invoice">
                    <button (click)="printPDF(printInv, type)"
                        class="btn btn-bold btn-md btn-font-md  btn-label-danger">
                        <i class="fa fa-file-pdf"></i> {{PDFformat | localize}}
                    </button>
                    <!-- <button class="btn btn-bold btn-md btn-font-md  btn-label-danger">
                        {{"DownloadFile" | localize}}
                    </button> -->
                  </div>
              </div>
          </div>
      </div>

      <div [class]="containerClass + ' kt-grid__item kt-grid__item--fluid kt-margin-t-50'">
          <div class="kt-portlet kt-portlet--mobile">
              <div class="kt-portlet__body kt-portlet__body--fit" [busyIf]="isLoading" style="color:#000;">
                  <div class="kt-invoice-2 invoiceCustomStyle1">
                      <div class="kt-invoice__head">
                          <div class="kt-invoice__container kt-invoice__container--centered">
                              <div class="kt-invoice__brand row" style="position:relative;z-index: 1;">
                                  <div id="invoiceDetailP1" class="col-md-4 col-sm-12 col-xs-12">
                                      <h1 class="kt-invoice__title">{{InvoiceTitle | localize | uppercase}}</h1>
                                      <div class="kt-invoice__titlestat row">
                                          <div class="col-md-4">{{"BillNo" | localize}}</div>
                                          <div class="col-md-8 valueSet">{{inputHelper.billno}}</div>
                                      </div>
                                      <div class="row">
                                          <div class="col-md-4">{{"ReceiptDate" | localize}}</div>
                                          <div class="col-md-8 valueSet">{{inputHelper.billdate}}</div>
                                      </div>
                                  </div>
                                  <div id="statusInvoice" class="{{inputHelper.status | lowercase}} billStatus"></div>
                                  <!-- <div class="col-md-3 col-sm-12 col-xs-12 billStatus"></div> -->
                                  <div id="invoiceDetailP3" class="kt-invoice__logo col-md-8 col-sm-12 col-xs-12">
                                      <!-- <div *ngIf="siNumber !== undefined || MultiInvoice == true">
                                          {{"TotalAmountDue" | localize}} <br />
                                          <span class="currencyLocal">{{"CurrencyMyr" | localize}}</span>
                                          <span id="totalAmount"
                                                class="backDefault">{{inputHelper.totalamountdue | number:'.2-2'}}</span>
                                      </div> -->
                                      <div>
                                          {{"TotalAmountPaid" | localize}} <br />
                                          <span class="currencyLocal">{{"CurrencyMyr" | localize}}</span>
                                          <span id="totalAmount"
                                                class="backDefault">{{inputHelper.total | number:'.2-2'}}</span>
                                      </div>
                                  </div>
                              </div>
                              <div class="kt-invoice__items row">
                                  <div class="kt-invoice__item col-md-5">
                                      <div class="kt-invoice__subtitle row">
                                          <div class="col-md-4">{{"Attn" | localize}}</div>
                                          <div class="col-md-8 valueSet">{{inputHelper.attn}}</div>
                                      </div>
                                      <div class="kt-invoice__subtitle row">
                                          <div class="col-md-4">{{"Company" | localize}}</div>
                                          <div class="col-md-8 valueSet">{{inputHelper.customer}}</div>
                                      </div>
                                      <div class="kt-invoice__subtitle row">
                                          <div class="col-md-4">{{"Address" | localize}}</div>
                                          <div class="col-md-8 valueSet">{{inputHelper.address}}</div>
                                      </div>
                                      <!-- <div class="kt-invoice__subtitle row">
                                          <div class="col-md-4"></div>
                                          <div class="col-md-8" style="word-break: break-word;">{{inputHelper.customer}}</div>
                                          <div class="col-md-4"></div>
                                          <div class="col-md-8" style="word-break: break-word;">{{inputHelper.address}}</div>
                                      </div> -->
                                  </div>
                                  <div class="col-md-2"></div>
                                  <div class="kt-invoice__item col-md-5">
                                      <div class="kt-invoice__subtitle row">
                                          <div class="col-md-4">{{"CustomerNo" | localize}}</div>
                                          <div class="col-md-8 valueSet">{{inputHelper.customerno}}</div>
                                      </div>
                                      <div *ngIf="!isCashBill" class="kt-invoice__subtitle row">
                                          <div class="col-md-4">{{"CreditVote" | localize}}</div>
                                          <div class="col-md-8 valueSet">{{inputHelper.creditvote}}</div>
                                      </div>
                                      <div *ngIf="!isCashBill" class="kt-invoice__subtitle row">
                                          <div class="col-md-4">{{"ProjectCode" | localize}}</div>
                                          <div class="col-md-8 valueSet">{{inputHelper.projectcode}}</div>
                                      </div>
                                      <div *ngIf="!isCashBill" class="kt-invoice__subtitle row">
                                          <div class="col-md-4">{{"CostCenter" | localize}}</div>
                                          <div class="col-md-8 valueSet">{{inputHelper.costcenter}}</div>
                                      </div>
                                  </div>
                              </div>
                              <div class="kt-invoice__items row">
                                  <div class="kt-invoice__item col-md-5">
                                      <div *ngIf="!isCashBill" class="kt-invoice__subtitle row">
                                          <div class="col-md-4">{{"RefNo" | localize}}</div>
                                          <div class="col-md-8 valueSet">{{inputHelper.refno}}</div>
                                      </div>
                                      <div class="kt-invoice__subtitle row">
                                          <div class="col-md-4">{{"DeliveryRef" | localize}}</div>
                                          <div class="col-md-8 valueSet">{{inputHelper.deliveryref}}</div>
                                      </div>
                                  </div>
                                  <div class="col-md-2"></div>
                                  <div class="kt-invoice__item col-md-5">
                                      <div *ngIf="!isCashBill" class="kt-invoice__subtitle row">
                                          <div class="col-md-4">{{"OurRef" | localize}}</div>
                                          <div class="col-md-8 valueSet">{{inputHelper.ourref}}</div>
                                      </div>
                                      <div *ngIf="!isCashBill" class="kt-invoice__subtitle row">
                                          <div class="col-md-4">{{"YourRef" | localize}}</div>
                                          <div class="col-md-8 valueSet">{{inputHelper.yourref}}</div>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                      <div class="kt-invoice__body">
                          <div *ngIf="PaymentHistoryMultiple === true" id="invoiceTableWrp" class="row align-items-center tableStylePlain kt-margin-0">
                              <!--<Primeng-TurboTable-Start>-->
                              <div class="primeng-datatable-container" [busyIf]="primengTableHelper.isLoading">
                                  <p-table #dataTable (onLazyLoad)="refresh()" [value]="primengTableHelper.records"
                                      [rows]="primengTableHelper.defaultRecordsCountPerPage" [paginator]="false"
                                      [lazy]="true" [scrollable]="true" ScrollWidth="100%"
                                      [responsive]="primengTableHelper.isResponsive"
                                      [resizableColumns]="primengTableHelper.resizableColumns">
                                      <ng-template pTemplate="header">
                                          <tr>
                                              <th style="width: 25px; text-align-last: center;">
                                                  {{'No' | localize}}
                                              </th>
                                              <th style="width: 66px">
                                                  {{'BillNo' | localize}}
                                              </th>
                                              <th style="width: 193px" pSortableColumn="name">
                                                  {{'Description' | localize}}
                                              </th>
                                              <!-- <th style="width: 60px">
                                                  {{'TaxCode' | localize}}
                                              </th> -->
                                              <th style="width: 62px">
                                                  {{'Quantity' | localize}}
                                              </th>
                                              <th style="width: 64px">
                                                  {{'UnitPrice' | localize}}
                                              </th>
                                              <th style="width: 43px">
                                                  {{'SubTotal' | localize}}
                                              </th>
                                          </tr>
                                      </ng-template>
                                      <ng-template pTemplate="body" let-i='rowIndex' let-rowData let-record="$implicit">
                                          <tr>
                                              <td style="width: 30px; text-align-last: center;">
                                                  <span class="ui-column-title"> {{'No' | localize}}</span>
                                                  {{i+1}}
                                              </td>
                                              <td style="width: 75px">
                                                  <span class="ui-column-title"> {{'BillNo' | localize}}</span>
                                                  {{record.ItemCode}}
                                              </td>
                                              <td style="width: 200px">
                                                  <span class="ui-column-title"> {{'Description' | localize}}</span>
                                                  {{record.ItemDesc}}
                                              </td>
                                              <!-- <td style="width: 60px; text-align-last: center;">
                                                  <span class="ui-column-title"> {{'TaxCode' | localize}}</span>
                                                  {{inputHelper.taxcode}}
                                              </td> -->
                                              <td class="currValue" style="width: 60px; text-align-last: end;">
                                                  <div class="backTab">
                                                      <span class="ui-column-title"> {{'Quantity' | localize}}</span>
                                                      <span class="">{{record.Qty}}</span>
                                                  </div>

                                              </td>
                                              <td class="currValue" style="width: 75px; text-align-last: end;">
                                                  <div class="backTab">
                                                      <span class="ui-column-title"> {{'UnitPrice' | localize}}</span>
                                                      <span style="position: relative;"></span>{{"CurrencyMyr" | localize}} {{record.UnitPrice | number:'.2'}}
                                                  </div>

                                              </td>
                                              <td class="currValue" style="width: 75px; text-align-last: end;">
                                                  <div class="backTab">
                                                      <span class="ui-column-title"> {{'SubTotal' | localize}}</span>
                                                      <span style="position: relative;"></span>{{"CurrencyMyr" | localize}} {{record.SubTotal | number:'.2'}}
                                                  </div>

                                              </td>
                                          </tr>
                                      </ng-template>
                                  </p-table>
                              </div>
                              <!--<Primeng-TurboTable-End>-->
                          </div>
                          <div *ngIf="PaymentHistory === true" id="invoiceTableWrp" class="row align-items-center tableStylePlain kt-margin-0">
                              <!--<Primeng-TurboTable-Start>-->
                              <div class="primeng-datatable-container" [busyIf]="primengTableHelper.isLoading">
                                  <p-table #dataTable (onLazyLoad)="refresh()" [value]="primengTableHelper.records"
                                      [rows]="primengTableHelper.defaultRecordsCountPerPage" [paginator]="false"
                                      [lazy]="true" [scrollable]="true" ScrollWidth="100%"
                                      [responsive]="primengTableHelper.isResponsive"
                                      [resizableColumns]="primengTableHelper.resizableColumns">
                                      <ng-template pTemplate="header">
                                          <tr>
                                              <th style="width: 25px; text-align-last: center;">
                                                  {{'No' | localize}}
                                              </th>
                                              <th style="width: 66px">
                                                  {{'ItemCode' | localize}}
                                              </th>
                                              <th style="width: 193px" pSortableColumn="name">
                                                  {{'Description' | localize}}
                                              </th>
                                              <!-- <th style="width: 60px">
                                                  {{'TaxCode' | localize}}
                                              </th> -->
                                              <th style="width: 62px">
                                                  {{'Quantity' | localize}}
                                              </th>
                                              <th style="width: 64px">
                                                  {{'UnitPrice' | localize}}
                                              </th>
                                              <th style="width: 43px">
                                                  {{'SubTotal' | localize}}
                                              </th>
                                          </tr>
                                      </ng-template>
                                      <ng-template pTemplate="body" let-i='rowIndex' let-rowData let-record="$implicit">
                                          <tr>
                                              <td style="width: 30px; text-align-last: center;">
                                                  <span class="ui-column-title"> {{'No' | localize}}</span>
                                                  {{i+1}}
                                              </td>
                                              <td style="width: 75px">
                                                  <span class="ui-column-title"> {{'ItemCode' | localize}}</span>
                                                  {{record.ItemCode}}
                                              </td>
                                              <td style="width: 200px">
                                                  <span class="ui-column-title"> {{'Description' | localize}}</span>
                                                  {{record.ItemDesc}}
                                              </td>
                                              <!-- <td style="width: 60px; text-align-last: center;">
                                                  <span class="ui-column-title"> {{'TaxCode' | localize}}</span>
                                                  {{inputHelper.taxcode}}
                                              </td> -->
                                              <td class="currValue" style="width: 60px; text-align-last: end;">
                                                  <div class="backTab">
                                                      <span class="ui-column-title"> {{'Quantity' | localize}}</span>
                                                      <span class="">{{record.Qty}}</span>
                                                  </div>

                                              </td>
                                              <td class="currValue" style="width: 75px; text-align-last: end;">
                                                  <div class="backTab">
                                                      <span class="ui-column-title"> {{'UnitPrice' | localize}}</span>
                                                      <span style="position: relative;"></span>{{"CurrencyMyr" | localize}} {{record.UnitPrice | number:'.2'}}
                                                  </div>

                                              </td>
                                              <td class="currValue" style="width: 75px; text-align-last: end;">
                                                  <div class="backTab">
                                                      <span class="ui-column-title"> {{'SubTotal' | localize}}</span>
                                                      <span style="position: relative;"></span>{{"CurrencyMyr" | localize}} {{record.SubTotal | number:'.2'}}
                                                  </div>

                                              </td>
                                          </tr>
                                      </ng-template>
                                  </p-table>
                              </div>
                              <!--<Primeng-TurboTable-End>-->
                          </div>
                      </div>
                      <div class="kt-invoice__footer invoiceFooter">
                          <div class="kt-invoice__container">
                              <div class="kt-invoice__items row col-md-12" style="padding: 0;display: flex;
                              justify-content: flex-end;">
                                  <div id="subTotalSection" class="kt-invoice__item col-md-4">
                                      <div class="kt-invoice__subtitle row">
                                          <div class="col-md-5 subTotal">{{"SubTotal" | localize}}</div>
                                          <div class="col-md-7 currValue">
                                              <span style="position:relative;">{{"CurrencyMyr" | localize}} {{inputHelper.subtotal | number:'.2-2'}}</span>
                                          </div>
                                      </div>
                                      <div class="kt-invoice__subtitle row">
                                          <div class="col-md-5">{{"SST" | localize}} {{sstAmt}} {{'%'}}</div>
                                          <div class="col-md-7 currValue">
                                              <span style="position: relative;">{{"CurrencyMyr" | localize}} {{inputHelper.sst | number:'.2-2'}}</span>
                                          </div>
                                      </div>
                                      <div *ngIf="MultiInvoice === true || (PaymentHistoryMultiple === true || PaymentHistory === true)" class="kt-invoice__subtitle row">
                                          <div class="col-md-5">{{"Rounding" | localize}}</div>
                                          <div class="col-md-7 currValue">
                                              <span style="position: relative;">{{"CurrencyMyr" | localize}} {{inputHelper.valueRounding | number:'.2-2'}}</span>
                                          </div>
                                      </div>
                                      <div class="kt-invoice__subtitle row">
                                          <div class="col-md-5">{{"Total" | localize}}</div>
                                          <div class="col-md-7 currValue  valueSet">
                                              <span style="position: relative;">{{"CurrencyMyr" | localize}} {{inputHelper.total | number:'.2-2'}}</span>
                                          </div>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>      
  </div>
</div>
